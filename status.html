<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Status - SysLvLUp</title>
    <link rel="stylesheet" href="css/status.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192x192.png">
</head>
<body>
    <!-- Name Input Modal (shown for new players) -->
    <div id="name-input-modal" class="modal">
        <div class="modal-content">
            <h2>ðŸŽ® Welcome to SysLvLUp!</h2>
            <p>Please enter your character name to begin your journey:</p>
            <form id="name-form">
                <input type="text" id="player-name-input" placeholder="Enter your name..." maxlength="20" required>
                <button type="submit" id="start-game-btn">Start Game</button>
            </form>
        </div>
    </div>

    <!-- Main Status Content (hidden until name is set) -->
    <div id="status-content" class="hidden">
        <!-- Header -->
        <header class="status-header">
            <h1>Status</h1>
            <div class="header-controls">
                <button id="export-btn">Export Data</button>
                <button id="import-btn">Import Data</button>
                <button id="daily-reset-btn">Daily Reset</button>
                <button id="reset-btn">Reset Data</button>
                <button id="logout-btn">Logout</button>
            </div>
        </header>

        <!-- Main Status Display -->
        <main class="status-main">
            <!-- Character Info Section -->
            <section class="character-info">
                <div class="character-header">
                    <h2 id="job-text">Your Name</h2>
                    <span class="level-badge">Level <span class="level-number">1</span></span>
                </div>
                
                <div class="character-details">
                    <div class="detail-item">
                        <span class="label">Guild:</span>
                        <span id="guild-text">Reaper</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Race:</span>
                        <span id="race-text">Hunter</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Title:</span>
                        <span id="title-text">None</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Region:</span>
                        <span id="region-text">TN</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Location:</span>
                        <span id="location-text">Hospital</span>
                    </div>
                    <div class="detail-item">
                        <span class="label">Ping:</span>
                        <span id="ping-text">60 ms</span>
                    </div>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="stats-section">
                <h3>Core Stats</h3>
                
                <!-- HP Bar -->
                <div class="stat-bar">
                    <label>HP:</label>
                    <div class="bar-container">
                        <div id="hp-fill" class="bar-fill hp-fill" style="width: 100%"></div>
                    </div>
                    <span class="stat-value">100</span>
                </div>

                <!-- MP Bar -->
                <div class="stat-bar">
                    <label>MP:</label>
                    <div class="bar-container">
                        <div id="mp-fill" class="bar-fill mp-fill" style="width: 100%"></div>
                    </div>
                    <span class="stat-value">100</span>
                </div>

                <!-- Stamina Bar -->
                <div class="stat-bar">
                    <label>STM:</label>
                    <div class="bar-container">
                        <div id="stm-fill" class="bar-fill stm-fill" style="width: 100%"></div>
                    </div>
                    <span class="stat-value">100</span>
                </div>

                <!-- EXP Bar -->
                <div class="stat-bar">
                    <label>EXP:</label>
                    <div class="bar-container">
                        <div id="exp-fill" class="bar-fill exp-fill" style="width: 0%"></div>
                    </div>
                    <span class="stat-value">0</span>
                </div>

                <!-- Fatigue -->
                <div class="stat-bar">
                    <label>Fatigue:</label>
                    <span class="fatigue-value">0</span>
                </div>
            </section>

            <!-- Attributes Section -->
            <section class="attributes-section">
                <h3>Attributes</h3>
                <div class="attributes-grid">
                    <div class="attribute-item">
                        <span class="attr-name">STR</span>
                        <span class="attr-value" id="str-value">10</span>
                        <span class="attr-stacked" id="str-stacked">+0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attr-name">VIT</span>
                        <span class="attr-value" id="vit-value">10</span>
                        <span class="attr-stacked" id="vit-stacked">+0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attr-name">AGI</span>
                        <span class="attr-value" id="agi-value">10</span>
                        <span class="attr-stacked" id="agi-stacked">+0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attr-name">INT</span>
                        <span class="attr-value" id="int-value">10</span>
                        <span class="attr-value" id="int-value">10</span>
                        <span class="attr-stacked" id="int-stacked">+0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attr-name">PER</span>
                        <span class="attr-value" id="per-value">10</span>
                        <span class="attr-stacked" id="per-stacked">+0</span>
                    </div>
                    <div class="attribute-item">
                        <span class="attr-name">WIS</span>
                        <span class="attr-value" id="wis-value">10</span>
                        <span class="attr-stacked" id="wis-stacked">+0</span>
                    </div>
                </div>
            </section>

            <!-- Navigation Section -->
            <section class="navigation-section">
                <h3>Navigation</h3>
                <div class="nav-buttons">
                    <a href="daily_quest.html" class="nav-btn">Daily Quests</a>
                    <a href="dental-study.html" class="nav-btn">Dental Study</a>
                    <a href="Rituaal.html" class="nav-btn">Ritual</a>
                    <a href="alarm.html" class="nav-btn">Alarm</a>
                </div>
            </section>
        </main>
    </div>

    <!-- Import Modal -->
    <div id="import-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Import Data</h3>
            <textarea id="import-textarea" placeholder="Paste your exported data here..."></textarea>
            <div class="modal-buttons">
                <button id="confirm-import">Import</button>
                <button id="cancel-import">Cancel</button>
            </div>
        </div>
    </div>

    <!-- File Input for Import -->
    <input type="file" id="file-input" accept=".json" style="display: none;">

    <!-- Scripts -->
    <script src="js/user-manager.js"></script>
    <script src="js/status.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(registration => {
                    console.log('SW registered:', registration);
                })
                .catch(error => {
                    console.log('SW registration failed:', error);
                });
        }
    </script>
</body>
</html>
